<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>old-oak.net home</title>
    <link rel="oldoak icon" href="#">

    <!-- Most of the loader code has been lifted from w3schools.com -->
    <style>
    /* Center the loader */
    #loader {
      position: absolute;
      left: 50%;
      top: 50%;
      z-index: 1;
      width: 120px;
      height: 120px;
      margin: -76px 0 0 -76px;
      border: 16px solid #f3f3f3;
      border-radius: 50%;
      border-top: 16px solid #3498db;
      -webkit-animation: spin 2s linear infinite;
      animation: spin 2s linear infinite;
    }

    /* Safari */
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Add animation to "page content" */
    .animate-bottom {
      position: relative;
      -webkit-animation-name: animatebottom;
      -webkit-animation-duration: 1s;
      animation-name: animatebottom;
      animation-duration: 1s
    }

    @-webkit-keyframes animatebottom {
      from { bottom:-100px; opacity:0 } 
      to { bottom:0px; opacity:1 }
    }

    @keyframes animatebottom { 
      from{ bottom:-100px; opacity:0 } 
      to{ bottom:0; opacity:1 }
    }

    #myDiv {
      display: none;
      text-align: center;
    }
    </style>
  </head>

  <body onload="loadingFunction()" style="margin:0;">
    <p align="center">
      <img src="images/oaktree.jpg" align="middle">
    </p>

    <h1 align="center">WASM Example Using OpenGL (GLES)</h1>
    <div id="loader"></div>

    <div style="display:none;" id="canvasDiv" class="animate-bottom">
    <p align="center">
      <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>
    </p>

    <script type='text/javascript'>
      const canv = document.getElementById('canvas');

      var Module = {
        canvas: canv
      };
    </script>
    <script>
      Module['locateFile'] = function(path, prefix) {
        if (path.endsWith(".wasm")) return path;
        if (path.endsWith(".data")) return path;
        return prefix + path;
      }
    </script>
    <script src="astro-pos.js"></script>
    </div>

    <script>
      var loadingVar;

      function loadingFunction() {
        loadingVar = setTimeout(showPage, 2000);
      }

      function showPage() {
        document.getElementById("loader").style.display = "none";
        document.getElementById("canvasDiv").style.display = "block";
      }
    </script>

    
  </body>
</html>
